<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-T9GH2WG');</script>
		<!-- End Google Tag Manager -->
		<link rel="stylesheet" href="styles/style5.css" type="text/css" media="screen" />
		<script type="text/javascript" src="scripts/jquery-1.11.0.min.js"></script>

		<script type="text/javascript" src="scripts/redips-drag-min.js"></script>
		<script type="text/javascript" src="scripts/scriptc12.js"></script>
		<script type="text/javascript">
			preLoadIMG();
		</script>
		<title>Molecule Construction v4</title>
	</head>
	<body>

		<script>
			window.dataLayer = window.dataLayer || [];
			window.dataLayer.push({'event': 'launch', 'goedle': {'app_version': 'v4-dca'}});
		</script>

        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T9GH2WG"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<div id="loadpage">
			<p align="left" style="font-size: large;">
				<img src="images/page-loader.gif"><br>
				<B>Loading ... ... Please wait!</B>
			</p>
		</div>
		<div id="drag">
			<div id="topArea">
				<table id='table1'>
					<colgroup>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
						<col width="55"/>
					</colgroup>
					<tr height='55' id="tRow1">
						<td colspan='5' class='mark'>
							Use the buttons to create it's formula
						</td>
						<td colspan='5' id="molecule" class='mark'>
							<form>
								Strategy:
								<input type="text" id="strategy_id" name="strategy_id" readonly><br>
								Current molecule:
								<input type="text" id="moleculeSelect" readonly>
							</form>
						<td colspan='2' class='mark'><button onclick="showDiagram(); window.dataLayer.push({'event': 'help.periodic_table' });">Periodic Table</button></td>
					</tr>
					<tr height='55' id="tRow2">
						<td colspan='12' class='mark'>Each disk represents an electron. The color indicates to which atom each electron belongs to. Drag electrons from the selection below to the green positions on the grid. You can move electrons, use trash to remove them completely, or 'Reset' to clear the grid and start again.</td>
					</tr>
					<tr height='55' id="tRow3">
						<td colspan='1'><img src='bonding/c4-2.png' onMouseOver='this.src="bonding/c4-2-rC.png"' onMouseOut='this.src="bonding/c4-2.png"' onclick='addToName(1); window.dataLayer.push({"event": "add.bonding", "event_value": "2", "event_id": "number"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-3.png' onMouseOver='this.src="bonding/c4-3-rC.png"' onMouseOut='this.src="bonding/c4-3.png"' onclick='addToName(2); window.dataLayer.push({"event": "add.bonding", "event_value": "3", "event_id": "number"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-4.png' onMouseOver='this.src="bonding/c4-4-rC.png"' onMouseOut='this.src="bonding/c4-4.png"' onclick='addToName(3); window.dataLayer.push({"event": "add.bonding", "event_value": "4", "event_id": "number"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-Br.png' onMouseOver='this.src="bonding/c4-Br-rC.png"' onMouseOut='this.src="bonding/c4-Br.png"' onclick='addToName(4); window.dataLayer.push({"event": "add.bonding", "event_value": "Br", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-Ca.png' onMouseOver='this.src="bonding/c4-Ca-rC.png"' onMouseOut='this.src="bonding/c4-Ca.png"' onclick='addToName(5); window.dataLayer.push({"event": "add.bonding", "event_value": "Ca", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-C.png' onMouseOver='this.src="bonding/c4-C-rC.png"' onMouseOut='this.src="bonding/c4-C.png"' onclick='addToName(6); window.dataLayer.push({"event": "add.bonding", "event_value": "C", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-Cl.png' onMouseOver='this.src="bonding/c4-Cl-rC.png"' onMouseOut='this.src="bonding/c4-Cl.png"' onclick='addToName(7); window.dataLayer.push({"event": "add.bonding", "event_value": "Cl", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-F.png' onMouseOver='this.src="bonding/c4-F-rC.png"' onMouseOut='this.src="bonding/c4-F.png"' onclick='addToName(8); window.dataLayer.push({"event": "add.bonding", "event_value": "F", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-H.png' onMouseOver='this.src="bonding/c4-H-rC.png"' onMouseOut='this.src="bonding/c4-H.png"' onclick='addToName(9); window.dataLayer.push({"event": "add.bonding", "event_value": "H", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-K.png' onMouseOver='this.src="bonding/c4-K-rC.png"' onMouseOut='this.src="bonding/c4-K.png"' onclick='addToName(10); window.dataLayer.push({"event": "add.bonding", "event_value": "K", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-Na.png' onMouseOver='this.src="bonding/c4-Na-rC.png"' onMouseOut='this.src="bonding/c4-Na.png"' onclick='addToName(11); window.dataLayer.push({"event": "add.bonding", "event_value": "Na", "event_id": "element"  });' width='100%'></td>
						<td colspan='1'><img src='bonding/c4-O.png' onMouseOver='this.src="bonding/c4-O-rC.png"' onMouseOut='this.src="bonding/c4-O.png"' onclick='addToName(12); window.dataLayer.push({"event": "add.bonding", "event_value": "O", "event_id": "element"  });' width='100%'></td>
					</tr>
					<tr height='55' id="tRow17">
						<td colspan='12' class='message' id='thisMol'></td>
					</tr>
					<!-- "answerKeys[document.getElementById('moleculeSelect').value]" replaced by "answerKeys[strategy_dict[strategy[current_molecule_id]]]" -->
					<tr height='55' id="tRow4">
						<td class='single teampot' colspan='1'><div id='c18' class='drag clone'><img src='images/discs/blueSingle.png' width='100%'></div></td>
						<td class='single teampot' colspan='1'><div id='c25' class='drag clone'><img src='images/discs/redSingle.png' width='100%'></div></td>
						<td colspan='3' class='mark'><button onclick="resetDropTables(); window.dataLayer.push({'event': 'reset.electrons', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]]  });">Reset</button></td>
						<td colspan='3' class='mark'><button onclick="checkDropResult(); window.dataLayer.push({'event': 'check.electrons', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]] });">Check</button></td>
						<td colspan='4' class='mark'><button onclick="showDiagram(); window.dataLayer.push({'event': 'help.electrons', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]] });">Periodic Table</button></td>
					<tr height='55' id="tRow5">
						<td colspan='2' class='mark'><button onclick="resetName(); window.dataLayer.push({'event': 'reset.table', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]]  });">Reset</button></td>
						<td colspan='2' class='mark'><button onclick="backSpace2(); window.dataLayer.push({'event': 'remove.element', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]]  });">Back</button></td>
						<td id='molFormula' class='message' colspan='6'></td>
						<td colspan='2' class='mark' onclick="checkResult(); window.dataLayer.push({'event': 'check.table', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]]  });"><button>Check</button></td>

					</tr>
					<tr height='55' id="tRow6">
						<td colspan='6'><img id='displayGIF' src='images/gifs/hydrogenchloride.gif' width='100%'></td>
						<td colspan='6' class='message' id='molInfo'><b>Hydrogen chloride.</b> At room temperature, it is a colorless gas, which forms white fumes of hydrochloric acid upon contact with atmospheric humidity. Hydrogen chloride gas and hydrochloric acid are important in technology and industry. Hydrochloric acid, the aqueous solution of hydrogen chloride, is also commonly given the same formula as Hydrogen chloride.</td>
					</tr>
					<tr height='55' id="tRow7">
					</tr>
					<tr height='55' id="tRow8">
					</tr>
					<tr height='55' id="tRow9">
					</tr>
					<tr height='55' id="tRow10">
					</tr>
					<tr height='55' id="tRow11">
					</tr>
					<tr height='55' id="tRow12">
					</tr>
					<tr height='55' id="tRow13">
					</tr>
					<tr height='55' id="tRow14">
					</tr>
					<tr height='55' id="tRow15">
					</tr>
					<tr height='55' id="tRow16">
					</tr>
					<tr height='55' id="tRow18">
					</tr>
				</table>
			</div>
		</div>

		<script>
			var strategy= {};
			var new_strategy = {};
			var strategy_dict = {};
			var current_molecule_id = 0;
			$.ajax({
				url: "http://api-staging.goedle.io/apps/1/strategy/",
				type: "GET",
				dataType: "json",
				success: function(data){
					strategy = data['config'];
					id = data["id"];
					for (i=0; i<strategy.length; i++){
						if (strategy[i] == "HCl"){
							new_strategy[i] = "Hydrogen Chloride";
							strategy_dict.HCl = parseInt('1');
						}
						else if (strategy[i] == "H2O"){
							new_strategy[i] = "Water";
							strategy_dict.H2O = parseInt('3');
						}
						else if (strategy[i] == "KBr"){
							new_strategy[i] = "Potassium Bromide";
							strategy_dict.KBr = parseInt('2');
						}
						else if (strategy[i] == "NaF"){
							new_strategy[i] = "Sodium Fluoride";
							strategy_dict.NaF = parseInt('4');
						}
						else if (strategy[i] == "CH4"){
							new_strategy[i] = "Methane";
							strategy_dict.CH4 = parseInt('5');
						}
						else if (strategy[i] == "CaCl2"){
							new_strategy[i] = "Calcium Chloride";
							strategy_dict.CaCl2 = parseInt('6');
						}
						else if (strategy[i] == "NaCl"){
							new_strategy[i] = "Sodium Chloride";
							strategy_dict.NaCl = parseInt('7');
						}
						else if (strategy[i] == "CF4"){
							new_strategy[i] = "Tetrafluoromethane";
							strategy_dict.CF4 = parseInt('8');
						}
					}
					load_data(current_molecule_id);
				}
			})

			function load_data(current_molecule_id){
				changeMolecule();
				document.getElementById("strategy_id").value = id;
				document.getElementById("moleculeSelect").value = new_strategy[current_molecule_id];
				dataLayer.push({'event': 'select.molecule', 'event_id': answerKeys[strategy_dict[strategy[current_molecule_id]]]});
			}
		</script>
		<script type="text/javascript" src="scripts/jquiCustomMOL.js"></script>
	</body>
</html>
